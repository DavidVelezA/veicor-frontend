<div class="container mt-5">
  <form #categoriaForm="ngForm" (ngSubmit)="onSubmit2(categoriaForm)">
    <h1 class="text-center">Nueva categoria</h1>
    <br />
    <div class="row justify-content-center">
      <div class="col-4 center-block">
        <div class="form-group">
          <!-- <label>Nombre categoria</label> -->
          <input
            type="text"
            class="form-control"
            placeholder="Nombre de la categoria"
            name="categoria"
            #nombre="ngModel"
            [(ngModel)]="categoria.nombre"
            required
          />
          <small
            *ngIf="!nombre.valid && nombre.touched"
            class="invalid-feedback d-block"
          >
            El nombre no es valido</small
          >
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <button
            type="submit"
            class="btn btn-primary"
            [disabled]="categoriaForm.invalid"
          >
            Guardar
          </button>
        </div>
      </div>
    </div>
  </form>

  <br /><br />
  <hr />

  <div class="m-auto w-50 mt-5">
    <h1 class="text-center">Productos</h1>
    <form #registerForm="ngForm" (ngSubmit)="onSubmit(registerForm)">
      <div class="form-group" *ngIf="producto.image">
        <img
          src="{{ producto.image }}"
          alt=""
          style="
            width: 300px;
            height: 300px;
            border-radius: 90%;
            display: block;
            margin: auto;
          "
        />
      </div>
      <div class="form-group" *ngIf="!producto.image">
        <img
          src="../../../../assets/producto.png"
          alt=""
          style="
            width: 100px;
            height: 100px;
            border-radius: 90%;
            display: block;
            margin: auto;
          "
        />
      </div>
      <div class="row">
        <div class="col">
          <div class="form-group">
            <label>Titulo</label>
            <input
              type="text"
              class="form-control"
              placeholder="Nombre del producto"
              name="title"
              #title="ngModel"
              [(ngModel)]="producto.title"
              required
            />
            <small
              *ngIf="!title.valid && title.touched"
              class="invalid-feedback d-block"
            >
              El nombre no es valido</small
            >
          </div>
        </div>

        <div class="col">
          <div class="form-group">
            <label for="exampleInputPassword1">Seleccione la categoria</label>
            <select
              class="custom-select"
              id="inputGroupSelect01"
              name="idTypeCandidate"
              class="form-control"
              #category="ngModel"
              [(ngModel)]="producto.category"
              required
            >
              <!-- <option value="" disabled>{{producto.category}}</option> -->

              <option
                value="{{ categoria._id }}"
                *ngFor="let categoria of categorias"
              >
                {{ categoria.nombre }}
              </option>
            </select>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="form-group">
            <label>Descripción</label>
            <textarea
              style="height: 100px"
              type="text"
              class="form-control"
              placeholder="Lorem ipsum dolor sit, amet consectetur adipisicing elit."
              name="content"
              #content="ngModel"
              [(ngModel)]="producto.content"
              required
            >
            </textarea>
            <small
              *ngIf="!content.valid && content.touched"
              class="invalid-feedback d-block"
            >
              Descripción no valida</small
            >
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <div class="form-group">
            <label>Precio</label>
            <input
              type="text"
              class="form-control"
              placeholder="$1.00"
              name="price"
              #price="ngModel"
              [(ngModel)]="producto.price"
              required
            />
            <small
              *ngIf="!price.valid && price.touched"
              class="invalid-feedback d-block"
            >
              Precio no valido</small
            >
          </div>
        </div>
        <div class="col">
          <div class="form-group">
            <label>Cantidad</label>
            <input
              type="text"
              class="form-control"
              placeholder="50"
              name="quantity"
              #quantity="ngModel"
              [(ngModel)]="producto.quantity"
              required
            />
            <small
              *ngIf="!quantity.valid && quantity.touched"
              class="invalid-feedback d-block"
            >
              Cantidad no es valido</small
            >
          </div>
        </div>
      </div>

      <div class="form-group mt-2">
        <!-- <angular-file-uploader [config]="afuConfig" (ApiResponse)="imageUpload($event)"></angular-file-uploader> -->
        <input
          type="file"
          class="form-controld"
          accept="image/png, image/gif, image/jpeg"
          (change)="subirImagen($event)"
        />
      </div>

      <button
        *ngIf="action"
        type="submit"
        class="btn btn-primary float-right col-12"
        [disabled]="registerForm.invalid"
      >
        Registrar
      </button>
      <button
        *ngIf="!action"
        type="submit"
        class="btn btn-primary float-right col-12"
        [disabled]="registerForm.invalid"
      >
        Editar
      </button>
    </form>
  </div>
  <br /><br /><br /><br /><br />
</div>
